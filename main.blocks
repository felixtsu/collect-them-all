<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="tKYl8GsBb|PD+!Lk3*Up">waitForMoveDirection</variable><variable id="|Gpw!3ugd5m:zR]:J9jJ">currentDirection</variable><variable id="}L6U6KGw:|=2Qf|gjt5?">direction</variable><variable id="@/M;-|,$tb0n7kX)G#=n">GEMS</variable><variable id="0~C$A25GZnidS}jCBwR-">gem</variable><variable id="[S4tKK9R2%QNqdG~YD({">DIRECTIONS</variable><variable id="3{cgh{aU,Z8glS{G=hz,">PLAYERS</variable><variable id="~eEF-^.V*keA}c.BhX:f">player1</variable><variable id="n=Y=SmDx;e4L|lVE_TZJ">player2</variable><variable type="KIND_SpriteKind" id="#t7A}IJ6f^xzxzP3R6y5">Player</variable><variable type="KIND_SpriteKind" id="wT83[vX;aprXm_%X~dt?">Projectile</variable><variable type="KIND_SpriteKind" id="o]gifQwa6G-@fDs[HkfK">Food</variable><variable type="KIND_SpriteKind" id="%j3aV88|]5sOxJY!gy*;">Enemy</variable></variables><block type="pxt-on-start" id="E%*ZYdE]Rd_B%u85+%{)" x="0" y="0"><statement name="HANDLER"><block type="typescript_statement" id="LRF/!@tRz?(;E/E]Jj_@" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="let currentDirection = 0" numlines="1" declaredvars="currentDirection"></mutation><next><block type="tilemap_editor" id="tpu,-bqHfN#}b,:cYp@M"><field name="tilemap">tilemap`default`</field><data>{"commentRefs":[],"fieldData":{"tilemap":"级别1"}}</data><next><block type="camerapos" id="cB@pUEyysE:.t9}~G*Xh"><value name="x"><shadow type="math_number" id="{*!d_BfUil*NSqX$$hj2"><field name="NUM">80</field></shadow></value><value name="y"><shadow type="math_number" id="}zM|PY3tbFwv;zbY~90`"><field name="NUM">72</field></shadow></value><next><block type="variables_set" id="7YUZ=eM^(jgi{TVGSJuW"><field name="VAR" id="[S4tKK9R2%QNqdG~YD({">DIRECTIONS</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="BnHToP/zO|O(4W0-W3Uh" inline="false"><mutation items="4" horizontalafter="3"></mutation><value name="ADD0"><block type="lists_create_with" id=",=lA~vU}6@r}!Cy-60@%"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="ZHoKl3ptcG`,qcr[4.Wt"><field name="NUM">-1</field></shadow></value><value name="ADD1"><shadow type="math_number" id="AG`ugJ+D||_t.zc3PdQT"><field name="NUM">0</field></shadow></value></block></value><value name="ADD1"><block type="lists_create_with" id="s2YzS-JNmL}(0[L8ewhW"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="Zn0TGM^n;(+6{r(@@l4h"><field name="NUM">0</field></shadow></value><value name="ADD1"><shadow type="math_number" id="]Lq4agbS4yhGtg$F1zdz"><field name="NUM">1</field></shadow></value></block></value><value name="ADD2"><block type="lists_create_with" id="PIY$Txt#b*?oZn3WN;(Y"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="r$^lL/k*ray0~D_#:kH="><field name="NUM">1</field></shadow></value><value name="ADD1"><shadow type="math_number" id="FH|ezi7(3!8,W_}k{E}c"><field name="NUM">0</field></shadow></value></block></value><value name="ADD3"><block type="lists_create_with" id="BbwufhT@gk:$`1,Coc4e"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><shadow type="math_number" id="^G)V:QVtuOw[`SRoA1X{"><field name="NUM">0</field></shadow></value><value name="ADD1"><shadow type="math_number" id="MAh+;pl7)30Szk/Md3iG"><field name="NUM">-1</field></shadow></value></block></value></block></value><next><block type="typescript_statement" id="/*lFWhxupt:l*t+(Qx)I" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="class Character {" line1="" line2="    private _scores:{}" line3="    private _icon:Image" line4="    private _row:number" line5="    private _col:number" line6="    private sprite : Sprite" line7="    private _id:number" line8="" line9="    power : ()=&gt;number" line10="    setPower: (p:number) =&gt; void" line11="    decrPower: (p:number) =&gt; void" line12="" line13="    constructor(id:number, icon:Image, row:number, col:number," line14="        power: () =&gt; number, " line15="        setPower: (p: number) =&gt; void, " line16="        decrPower: (p: number) =&gt; void) {" line17="        this._id = id" line18="        this._icon = icon" line19="        this._row = row" line20="        this._col = col" line21="        this.power = power" line22="        this.setPower = setPower" line23="        this.decrPower = decrPower" line24="        this.sprite = sprites.create(this._icon, SpriteKind.Player)" line25="        tiles.placeOnTile(this.sprite, tiles.getTileLocation(this._row, this._col))" line26="    }" line27="" line28="    getLocation(): [number, number] {" line29="        return [this._row, this._col]" line30="    }" line31="" line32="    move( direction : number):void {" line33="        tiles.setWallAt(tiles.getTileLocation(this._col, this._row), false)" line34="        this._row += DIRECTIONS[direction][0]" line35="        this._col += DIRECTIONS[direction][1]" line36="        tiles.placeOnTile(this.sprite, tiles.getTileLocation(this._col, this._row))" line37="        tiles.setWallAt(tiles.getTileLocation(this._col, this._row), true)" line38="    }" line39="" line40="    canMove(direction:number):boolean {" line41="        let nextRow = this._row + DIRECTIONS[direction][0]" line42="        let nextCol = this._col + DIRECTIONS[direction][1]" line43="" line44="        if (nextRow &lt; 0 || nextRow &gt; 8 || nextCol &lt; 0 || nextCol &gt; 9) {" line45="            return false" line46="        }" line47="" line48="        if (tiles.getTileLocation(nextCol, nextRow).isWall()) {" line49="            return false" line50="        }" line51="" line52="        return true" line53="" line54="    }" line55="    " line56="}" numlines="57"></mutation><next><block type="typescript_statement" id="u~-p-S*m-21(MA9~$;7b" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="class Gem{" line1="" line2="    private _name: string;" line3="    private _icon:Image;" line4="    private _row :number;" line5="    private _col:number;" line6="    private _sprite:Sprite;" line7="" line8="    constructor(name:string, icon:Image, defaultRow : number, defaultCol:number) {" line9="        this._name = name" line10="        this._icon = icon" line11="        this._row = defaultRow" line12="        this._col = defaultCol" line13="        " line14="    }" line15="" line16="    init() {" line17="        this._sprite = sprites.create(this._icon, SpriteKind.Food)" line18="        sprites.setDataString(this._sprite, &quot;name&quot;, this._name)" line19="" line20="        this._place(this._col, this._row)" line21="" line22="    }" line23="" line24="    get name() {" line25="        return this._name" line26="    }" line27="    get icon() {" line28="        return this._icon" line29="    }" line30="" line31="    _place(col : number, row : number) {" line32="        " line33="" line34="        let currentLoc = tiles.getTileLocation(this._col, this._row)" line35="        tiles.setTileAt(currentLoc, img``)" line36="" line37="        let loc = tiles.getTileLocation(col, row)" line38="        tiles.placeOnTile(this._sprite, loc)" line39="" line40="        tiles.setTileAt(loc, myTiles.transparency16)" line41="    }" line42="" line43="    changePosition() {" line44="        " line45="" line46="        " line47="" line48="    }" line49="" line50="" line51="}" numlines="52"></mutation><next><block type="variables_set" id="QfeDlRHXdw7=}y*a/4p%"><field name="VAR" id="@/M;-|,$tb0n7kX)G#=n">GEMS</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="i.^NNvH@.HafMt,f]hrO" inline="false"><mutation items="4" horizontalafter="3"></mutation><value name="ADD0"><block type="typescript_expression" id="8r?WGX:mI*$8Ea4KpITg" editable="false"><field name="EXPRESSION">new Gem("red",img`
        . . . . . . . e c 7 . . . . . .
        . . . . e e e c 7 7 e e . . . .
        . . c e e e e c 7 e 2 2 e e . .
        . c e e e e e c 6 e e 2 2 2 e .
        . c e e e 2 e c c 2 4 5 4 2 e .
        c e e e 2 2 2 2 2 2 4 5 5 2 2 e
        c e e 2 2 2 2 2 2 2 2 4 4 2 2 e
        c e e 2 2 2 2 2 2 2 2 2 2 2 2 e
        c e e 2 2 2 2 2 2 2 2 2 2 2 2 e
        c e e 2 2 2 2 2 2 2 2 2 2 2 2 e
        c e e 2 2 2 2 2 2 2 2 2 2 4 2 e
        . e e e 2 2 2 2 2 2 2 2 2 4 e .
        . 2 e e 2 2 2 2 2 2 2 2 4 2 e .
        . . 2 e e 2 2 2 2 2 4 4 2 e . .
        . . . 2 2 e e 4 4 4 2 e e . . .
        . . . . . 2 2 e e e e . . . . .
    `, 4, 1)</field></block></value><value name="ADD1"><block type="typescript_expression" id="4ev1anbr5DdsUpW`mI{q" editable="false"><field name="EXPRESSION">new Gem("blue", img`
    . . . . . b b b b b b . . . . .
    . . . b b 9 9 9 9 9 9 b b . . .
    . . b b 9 9 9 9 9 9 9 9 b b . .
    . b b 9 d 9 9 9 9 9 9 9 9 b b .
    . b 9 d 9 9 9 9 9 1 1 1 9 9 b .
    b 9 d d 9 9 9 9 9 1 1 1 9 9 9 b
    b 9 d 9 9 9 9 9 9 1 1 1 9 9 9 b
    b 9 3 9 9 9 9 9 9 9 9 9 1 9 9 b
    b 5 3 d 9 9 9 9 9 9 9 9 9 9 9 b
    b 5 3 3 9 9 9 9 9 9 9 9 9 d 9 b
    b 5 d 3 3 9 9 9 9 9 9 9 d d 9 b
    . b 5 3 3 3 d 9 9 9 9 d d 5 b .
    . b d 5 3 3 3 3 3 3 3 d 5 b b .
    . . b d 5 d 3 3 3 3 5 5 b b . .
    . . . b b 5 5 5 5 5 5 b b . . .
    . . . . . b b b b b b . . . . .
`, 4, 3)</field></block></value><value name="ADD2"><block type="typescript_expression" id="fa{B3$0v{yS7Ge-G^R9j" editable="false"><field name="EXPRESSION">new Gem("orange", img`
    . . . . c c c b b b b b . . . .
    . . c c b 4 4 4 4 4 4 b b b . .
    . c c 4 4 4 4 4 5 4 4 4 4 b c .
    . e 4 4 4 4 4 4 4 4 4 5 4 4 e .
    e b 4 5 4 4 5 4 4 4 4 4 4 4 b c
    e b 4 4 4 4 4 4 4 4 4 4 5 4 4 e
    e b b 4 4 4 4 4 4 4 4 4 4 4 b e
    . e b 4 4 4 4 4 5 4 4 4 4 b e .
    8 7 e e b 4 4 4 4 4 4 b e e 6 8
    8 7 2 e e e e e e e e e e 2 7 8
    e 6 6 2 2 2 2 2 2 2 2 2 2 6 c e
    e c 6 7 6 6 7 7 7 6 6 7 6 c c e
    e b e 8 8 c c 8 8 c c c 8 e b e
    e e b e c c e e e e e c e b e e
    . e e b b 4 4 4 4 4 4 4 4 e e .
    . . . c c c c c e e e e e . . .
`, 4, 6)</field></block></value><value name="ADD3"><block type="typescript_expression" id="P%!vF7L?o_*lwY.p7P;M" editable="false"><field name="EXPRESSION">new Gem("yellow", img`
    4 4 4 . . 4 4 4 4 4 . . . . . .
    4 5 5 4 4 5 5 5 5 5 4 4 . . . .
    b 4 5 5 1 5 1 1 1 5 5 5 4 . . .
    . b 5 5 5 5 1 1 5 5 1 1 5 4 . .
    . b d 5 5 5 5 5 5 5 5 1 1 5 4 .
    b 4 5 5 5 5 5 5 5 5 5 5 1 5 4 .
    c d 5 5 5 5 5 5 5 5 5 5 5 5 5 4
    c d 4 5 5 5 5 5 5 5 5 5 5 1 5 4
    c 4 5 5 5 d 5 5 5 5 5 5 5 5 5 4
    c 4 d 5 4 5 d 5 5 5 5 5 5 5 5 4
    . c 4 5 5 5 5 d d d 5 5 5 5 5 b
    . c 4 d 5 4 5 d 4 4 d 5 5 5 4 c
    . . c 4 4 d 4 4 4 4 4 d d 5 d c
    . . . c 4 4 4 4 4 4 4 4 5 5 5 4
    . . . . c c b 4 4 4 b b 4 5 4 4
    . . . . . . c c c c c c b b 4 .
`, 4, 8)</field></block></value></block></value><next><block type="typescript_statement" id="X:%ZZq^+6V)o[buKDMt~" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const player1 = new Character(0, img`" line1="    . . . . . . f f f f . . . . . ." line2="    . . . . f f f 2 2 f f f . . . ." line3="    . . . f f f 2 2 2 2 f f f . . ." line4="    . . f f f e e e e e e f f f . ." line5="    . . f f e 2 2 2 2 2 2 e e f . ." line6="    . . f e 2 f f f f f f 2 e f . ." line7="    . . f f f f e e e e f f f f . ." line8="    . f f e f b f 4 4 f b f e f f ." line9="    . f e e 4 1 f d d f 1 4 e e f ." line10="    . . f e e d d d d d d e e f . ." line11="    . . . f e e 4 4 4 4 e e f . . ." line12="    . . e 4 f 2 2 2 2 2 2 f 4 e . ." line13="    . . 4 d f 2 2 2 2 2 2 f d 4 . ." line14="    . . 4 4 f 4 4 5 5 4 4 f 4 4 . ." line15="    . . . . . f f f f f f . . . . ." line16="    . . . . . f f . . f f . . . . ." line17="`, 0, 0," line18="    info.life, info.setLife, (p: number) =&gt; info.changeLifeBy(-p))" numlines="19" declaredvars="player1"></mutation><next><block type="typescript_statement" id=")6;t+le+SZ!js#UQ|%DJ" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="const player2 = new Character(1, img`" line1="    . . . . . . 5 . 5 . . . . . . ." line2="    . . . . . f 5 5 5 f f . . . . ." line3="    . . . . f 1 5 2 5 1 6 f . . . ." line4="    . . . f 1 6 6 6 6 6 1 6 f . . ." line5="    . . . f 6 6 f f f f 6 1 f . . ." line6="    . . . f 6 f f d d f f 6 f . . ." line7="    . . f 6 f d f d d f d f 6 f . ." line8="    . . f 6 f d 3 d d 3 d f 6 f . ." line9="    . . f 6 6 f d d d d f 6 6 f . ." line10="    . f 6 6 f 3 f f f f 3 f 6 6 f ." line11="    . . f f d 3 5 3 3 5 3 d f f . ." line12="    . . f d d f 3 5 5 3 f d d f . ." line13="    . . . f f 3 3 3 3 3 3 f f . . ." line14="    . . . f 3 3 5 3 3 5 3 3 f . . ." line15="    . . . f f f f f f f f f f . . ." line16="    . . . . . f f . . f f . . . . ." line17="`, 5, 4," line18="    () =&gt; {return info.player2.life()}, " line19="    (p:number) =&gt; {info.player2.setLife(p)}," line20="     (p: number) =&gt; info.player2.changeLifeBy(-p))" numlines="21" declaredvars="player2"></mutation><next><block type="variables_set" id="V2qM.BXXcls6G@5yrL!."><field name="VAR" id="3{cgh{aU,Z8glS{G=hz,">PLAYERS</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="lists_create_with" id="1N5v4%-)zpXlIc;IXgGd"><mutation items="2" horizontalafter="3"></mutation><value name="ADD0"><block type="variables_get" id="{G?HKJ]3.L%yIii9kx(1"><field name="VAR" id="~eEF-^.V*keA}c.BhX:f">player1</field></block></value><value name="ADD1"><block type="variables_get" id=".HktNVR~q#hDo9s4SO6b"><field name="VAR" id="n=Y=SmDx;e4L|lVE_TZJ">player2</field></block></value></block></value><next><block type="variables_set" id="}T44]xf7)93`KZ48Be=["><field name="VAR" id="|Gpw!3ugd5m:zR]:J9jJ">currentDirection</field><value name="VALUE"><shadow type="math_number" id="=);F$77JVnt/L:J*3ozC"><field name="NUM">-1</field></shadow></value><next><block type="function_call" id="N:EB.7oHp|BboYYpR|!R"><mutation name="init" functionid="L2L[3TwGH/7xy,^hu5lg"></mutation></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="forever" id="oRBJ/f+Dr}2T!YS?ZxU/" x="0" y="5610"><statement name="HANDLER"><block type="function_call" id="6Q=71.rcm7}?z~U9H-}N"><mutation name="playerMove" functionid="Y%RS@TWnD_:##c!%=Qh;"></mutation><next><block type="function_call" id="dXtZ3NMBnd?aKIk7|!HJ"><mutation name="refresh" functionid="km2Jswk5X2jnggOrfplu"></mutation><next><block type="function_call" id=".P%9h#l7W.ZFHDkUmW1C"><mutation name="aiMove" functionid="KJPTxqv{J0O1xwvf,$^M"></mutation><next><block type="function_call" id="sRL:$B;XX[b?B({@WJ)$"><mutation name="refresh" functionid="km2Jswk5X2jnggOrfplu"></mutation></block></next></block></next></block></next></block></statement></block><block type="keyonevent" id="sPowy?Y~llT+jF$L83I|" x="213" y="5610"><field name="button">controller.up</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="txn4X]z#KO5iq:S+t?%P"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="!BxN5W}2Si=y3Mx0`79o"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="?TEBF2Y|v}RgHecw$~5e"><field name="VAR" id="tKYl8GsBb|PD+!Lk3*Up">waitForMoveDirection</field></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="$/IH_V+Qy%a4o(8R~.SH" editable="false"><field name="EXPRESSION">player1.canMove(0)</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="@+$Pf?1`a5::N]uGGN:c"><field name="VAR" id="|Gpw!3ugd5m:zR]:J9jJ">currentDirection</field><value name="VALUE"><shadow type="math_number" id="q#xTe1b,usX$=#BtnAZ`"><field name="NUM">0</field></shadow></value></block></statement></block></statement></block><block type="keyonevent" id="2.DLnBe@1:m?UDIt`Q[p" x="0" y="5927"><field name="button">controller.right</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="O)}8R8z3E/,8|3xo4`b:"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="uwmx@elZJ1$0$u?#yS|Q"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="6K_P8pR98Q]O;,jmy`m1"><field name="VAR" id="tKYl8GsBb|PD+!Lk3*Up">waitForMoveDirection</field></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="KtmB@a|^D^kg@6j6d;;T" editable="false"><field name="EXPRESSION">player1.canMove(1)</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="o3MD]hFzNCmv,oyKp|iV"><field name="VAR" id="|Gpw!3ugd5m:zR]:J9jJ">currentDirection</field><value name="VALUE"><shadow type="math_number" id="Tx.E.8Z6!Q[5D.@{3z,-"><field name="NUM">1</field></shadow></value></block></statement></block></statement></block><block type="keyonevent" id="/S@H:vMsxq6JacU4Es8e" x="411" y="5927"><field name="button">controller.down</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="Q(iLXaiW0BJqql.hsdk5"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="SE+/~y2#H|$rR{7MC2#`"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="x5!/KLW9]r3Q5?vhGf{w"><field name="VAR" id="tKYl8GsBb|PD+!Lk3*Up">waitForMoveDirection</field></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="x8}9qjnh0`?*3gieqR7)" editable="false"><field name="EXPRESSION">player1.canMove(2)</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="t^Qs?64Gx~9UVrz;F^:!"><field name="VAR" id="|Gpw!3ugd5m:zR]:J9jJ">currentDirection</field><value name="VALUE"><shadow type="math_number" id="TV2]^d+Z4x?4j/h]Tslq"><field name="NUM">2</field></shadow></value></block></statement></block></statement></block><block type="keyonevent" id=")LDLj4l7iSRYjFD;w2u5" x="0" y="6186"><field name="button">controller.left</field><field name="event">ControllerButtonEvent.Pressed</field><statement name="HANDLER"><block type="controls_if" id="3`ys{v,elr-+Cj}o@h!R"><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_operation" id="+o`:`lqjKhs}8@}[tMAD"><field name="OP">AND</field><value name="A"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="variables_get" id="74Z3#~psqQRvh]?Zo7HA"><field name="VAR" id="tKYl8GsBb|PD+!Lk3*Up">waitForMoveDirection</field></block></value><value name="B"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="I_u?-YP%NmxEwD)Sao0~" editable="false"><field name="EXPRESSION">player1.canMove(3)</field></block></value></block></value><statement name="DO0"><block type="variables_set" id="h#)ERl^@Z]8N9vX!/;|3"><field name="VAR" id="|Gpw!3ugd5m:zR]:J9jJ">currentDirection</field><value name="VALUE"><shadow type="math_number" id=",I1[2boivcKey5,Ag|n2"><field name="NUM">3</field></shadow></value></block></statement></block></statement></block><block type="function_definition" id="@@_cw4vfl,i~pSKT*:1g" x="411" y="6186"><mutation name="init" functionid="L2L[3TwGH/7xy,^hu5lg"></mutation><field name="function_name">init</field><statement name="STACK"><block type="pxt_controls_for_of" id="jrNt:5zpwkd@0zR,(WV$"><value name="LIST"><block type="variables_get" id="[qQxd,/:?:Nzs1`c!wP("><field name="VAR" id="@/M;-|,$tb0n7kX)G#=n">GEMS</field></block></value><value name="VAR"><shadow type="variables_get_reporter" id="IX-(ja#1FU{@PjAz};2V"><field name="VAR" id="0~C$A25GZnidS}jCBwR-">gem</field></shadow></value><statement name="DO"><block type="typescript_statement" id="a8Q}4xMnSD}sVdHM=%~b" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="gem.init()" numlines="1"></mutation></block></statement></block></statement></block><block type="function_definition" id="RGF8h)5!b]jw^-=IWPm." x="0" y="6464"><mutation name="moveSprite" functionid="Ea4bY82;(i-(ys/OHG7m"><arg name="sprite" id="pwl1kq70tm8ko5wgusem" type="Sprite"></arg><arg name="direction" id="425avohq5gcbfuup9qah" type="number"></arg></mutation><field name="function_name">moveSprite</field><value name="pwl1kq70tm8ko5wgusem"><shadow type="argument_reporter_custom" id="`f1w2%7d1{xef9K+160}"><mutation typename="Sprite"></mutation><field name="VALUE">sprite</field></shadow></value><value name="425avohq5gcbfuup9qah"><shadow type="argument_reporter_number" id="6}b0mKH/@~HbIUjabPT|"><field name="VALUE">direction</field></shadow></value></block><block type="function_definition" id="c1mhlQ;bq!G-7NrOKkia" x="453" y="6464"><mutation name="playerMove" functionid="Y%RS@TWnD_:##c!%=Qh;"></mutation><field name="function_name">playerMove</field><statement name="STACK"><block type="variables_set" id="`RDG-_n7;Ed=lyBU+dVp"><field name="VAR" id="|Gpw!3ugd5m:zR]:J9jJ">currentDirection</field><value name="VALUE"><shadow type="math_number" id="F7##2]Cm[kjXhC}FZ5tA"><field name="NUM">-1</field></shadow></value><next><block type="variables_set" id="i72#2,b}F;e|FBJO(GEl"><field name="VAR" id="tKYl8GsBb|PD+!Lk3*Up">waitForMoveDirection</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id="HR[+f-iW};v5oxvz}ObQ"><field name="BOOL">TRUE</field></block></value><next><block type="device_while" id="J;xBqKo%#M$LekQg2mJS"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="hww2U14Cn-L-r~*4s3cm"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="w-QzEvYRcdFG;tKtv(1y"><field name="VAR" id="|Gpw!3ugd5m:zR]:J9jJ">currentDirection</field></block></value><value name="B"><shadow type="math_number" id="d!J)Z?q0j@`J=HKMdGc$"><field name="NUM">-1</field></shadow></value></block></value><statement name="DO"><block type="device_pause" id="PzR}hRhBrL0eyeKrIT8~"><value name="pause"><shadow type="timePicker" id="}@KXzst=eA;F+V/e}p5`"><field name="ms">10</field></shadow></value></block></statement><next><block type="variables_set" id="A^MhYC_xhPvu6Qi9dnUV"><field name="VAR" id="tKYl8GsBb|PD+!Lk3*Up">waitForMoveDirection</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="logic_boolean" id=",/H[y+sKvV6AJ[1a#d:N"><field name="BOOL">FALSE</field></block></value><next><block type="typescript_statement" id=":.lZ_K8vLOR(w2yA~6V`" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="player1.move(currentDirection)" numlines="1"></mutation></block></next></block></next></block></next></block></next></block></statement></block><block type="spriteshittile" id=")?%hdd9|,!.Cm.5J2,q(" x="1570" y="6790"><value name="HANDLER_DRAG_PARAM_sprite"><shadow type="argument_reporter_custom" id="a~!q%mJX-e8K.q@yEh]o"><mutation typename="Sprite"></mutation><field name="VALUE">sprite</field></shadow></value><value name="kind"><shadow type="spritekind" id="D;J?u={PWtzO_FG03EM}"><field name="MEMBER">Player</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker" id="pReI?*g{e7sfi2=`O?Fj"><field name="tile">sprites.castle.tilePath5</field></shadow></value><value name="HANDLER_DRAG_PARAM_location"><shadow type="argument_reporter_custom" id="E^m^D4TIQ_=4CT@%Aw{:"><mutation typename="tiles.Location"></mutation><field name="VALUE">location</field></shadow></value></block><block type="function_definition" id="gh78MBgi}+PEBGVLT_dR" x="0" y="6951"><mutation name="refresh" functionid="km2Jswk5X2jnggOrfplu"></mutation><field name="function_name">refresh</field></block><block type="function_definition" id="F2,~Q|yAyxe/34pk|D9$" x="216" y="6951"><mutation name="aiMove" functionid="KJPTxqv{J0O1xwvf,$^M"></mutation><field name="function_name">aiMove</field><statement name="STACK"><block type="variables_set" id="c6+8~g!h7?{CktEtKALg"><field name="VAR" id="}L6U6KGw:|=2Qf|gjt5?">direction</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random" id="D))c4l/1m1z$]=,L5k|w"><value name="min"><shadow type="math_number" id="m8a[l+!/B_QT[/tW:js="><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="W!.]=Y=,sw/~CD{Q2ItD"><field name="NUM">3</field></shadow></value></block></value><next><block type="device_while" id="[gJqhKWa%I!mx.%,Uo@Z"><value name="COND"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_negate" id="j10fowU$XU33H5:xUA~S"><value name="BOOL"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="typescript_expression" id="-InX6+nI-[~y|v`C}C:N" editable="false"><field name="EXPRESSION">player2.canMove(direction)</field></block></value></block></value><statement name="DO"><block type="console_log" id="4@SJAX]#9Hmd=B.e^GFh"><value name="value"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="HAySp9U`P^]qqV|IV0O0"><field name="VAR" id="}L6U6KGw:|=2Qf|gjt5?">direction</field></block></value><next><block type="variables_set" id="d5Fa2)1y}^35X!ru1zB-"><field name="VAR" id="}L6U6KGw:|=2Qf|gjt5?">direction</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="device_random" id="{PT~oQP$E/0sDp;DW.}u"><value name="min"><shadow type="math_number" id="d#nI3.kHT/pBkZT._E`u"><field name="NUM">0</field></shadow></value><value name="limit"><shadow type="math_number" id="r1ICXn)67]yV-Z~dV$?l"><field name="NUM">3</field></shadow></value></block></value></block></next></block></statement><next><block type="console_log" id="15p0eQ.APfve]or^nz]W"><value name="value"><shadow type="text"><field name="TEXT"></field></shadow><block type="text_join" id="Fq/_Ejo-Ly*(|xVV]E7]"><mutation items="2"></mutation><value name="ADD0"><shadow type="text" id="VBY|^Vox=}+;B94RuZ|H"><field name="TEXT">move :</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="e|UE*36w:v^_O8)ngFff"><field name="VAR" id="}L6U6KGw:|=2Qf|gjt5?">direction</field></block></value></block></value><next><block type="typescript_statement" id="CgXTO@5k?MjICDu#M#83" editable="false"><mutation xmlns="http://www.w3.org/1999/xhtml" line0="player2.move(direction)" numlines="1"></mutation></block></next></block></next></block></next></block></statement></block><block type="spriteshittile" id="2^Up?FbR/sc5,Z]fpU,x" x="1610" y="7010"><value name="HANDLER_DRAG_PARAM_sprite"><shadow type="argument_reporter_custom" id="7})!FzLSInR-KK+bEc*J"><mutation typename="Sprite"></mutation><field name="VALUE">sprite</field></shadow></value><value name="kind"><shadow type="spritekind" id=",{=]WkP)/EE*XV@%}fzE"><field name="MEMBER">Player</field></shadow></value><value name="tile"><shadow type="tileset_tile_picker" id="69N~xj{ZRBgOsABBG%C%"><field name="tile">assets.tile`occupied`</field></shadow></value><value name="HANDLER_DRAG_PARAM_location"><shadow type="argument_reporter_custom" id="L=,JTm?$n8T$^=vU4v]p"><mutation typename="tiles.Location"></mutation><field name="VALUE">location</field></shadow></value></block></xml>